
Этот проект представляет собой backend-сервис для управления пунктами выдачи заказов (ПВЗ). Сервис реализует функции авторизации пользователей, создания, получения и управления ПВЗ, а также взаимодействует с базой данных для хранения данных о пользователях, ПВЗ и приёмке товаров.

Реализованные функции:
Регистрация пользователей – Пользователи могут зарегистрироваться с указанием роли (клиент или модератор).

Логин и авторизация – Пользователи могут войти в систему с использованием JWT (JSON Web Token) для авторизации.

Создание и получение ПВЗ – Администраторы (модераторы) могут создавать и просматривать информацию о ПВЗ.

Управление товарами – Товары можно добавлять в систему через приёмку в ПВЗ.

Стек технологий
Go: Язык программирования для реализации серверной части.

PostgreSQL: СУБД для хранения информации о пользователях, ПВЗ и товарах.

Docker: Для контейнеризации приложения и базы данных.

JWT (JSON Web Tokens): Для авторизации и аутентификации пользователей.

Gorilla Mux: HTTP-маршрутизатор для обработки маршрутов.

Docker Compose: Для упрощения управления многоконтейнерным приложением.

Запуск проекта
1. Клонируйте репозиторий

2. Соберите контейнеры с помощью Docker Compose

docker-compose build
3. Запустите контейнеры

docker-compose up
Приложение будет доступно по адресу: http://localhost:8080.

4. Проверка работы API
Пример запросов к API с использованием curl:

Регистрация 

curl -X POST http://localhost:8080/register \
  -H "Content-Type: application/json" \
  -d '{"email":"user@example.com", "password":"password", "role":"client"}'

curl -X POST http://localhost:8080/login \
  -H "Content-Type: application/json" \
  -d '{"email":"user@example.com", "password":"password"}'

curl -X POST http://localhost:8080/secured/pvz \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer <JWT_TOKEN>" \
  -d '{"city":"Москва"}'
Получение информации о ПВЗ

curl -X GET http://localhost:8080/secured/pvz/{id} \
  -H "Authorization: Bearer <JWT_TOKEN>"
  
Проблемы и решения

Я столкнулся с подобной задачей впервые, а с языком go совсем недавно. Было интересно попробовать себя в этом. К сожалению все реализовать у меня не получилось

1. Проблемы с подключением к базе данных
На начальном этапе возникли проблемы с подключением к базе данных PostgreSQL, так как контейнеры не запускались должным образом. Решение заключалось в правильной настройке переменных окружения в Docker Compose для указания корректных данных для подключения к базе данных (имя пользователя, пароль, хост и порт).

2. Ошибки при компиляции
В процессе сборки Docker-образа возникали ошибки из-за несовместимости версий зависимостей в Go. Проблему удалось решить с помощью команды go mod tidy, которая очистила модульные зависимости.

3. Ошибки с JWT авторизацией
При реализации авторизации с использованием JWT возникали проблемы с обработкой токенов в маршрутах. Необходимо было корректно настроить обработчики и middleware для проверки токенов в защищённых маршрутах.

4. Протоколы безопасности
В процессе работы над проектом возникли вопросы по безопасному хранению паролей и использованию JWT. Для хранения паролей использовалась хеш-функция bcrypt, а для работы с JWT настроены безопасные алгоритмы для подписи токенов.

